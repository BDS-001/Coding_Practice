function merge(list) {
    if (list.length <= 1) return list
    const left = list.slice(0, list.length / 2)
    const right = list.slice(list.length / 2)

    return mergeSort(merge(left), merge(right))
}


function mergeSort(left, right) {
    array = []
    while(left.length > 0 || right.length > 0) {
        if (right.length === 0){
            const element = left.shift()
            array.push(element)
        } else if (left.length === 0) {
            const element = right.shift()
            array.push(element)
        } else if (left[0] < right[0]) {
            const element = left.shift()
            array.push(element)
        } else {
            const element = right.shift()
            array.push(element)
        }
    }
    return array
}



function test(array) {
    const sorted = merge(array)
    for (let index = 1; index < sorted.length; index++) {
        if (sorted[index] < sorted[index-1]) {
            console.log('failed')
            return false
        }
    }
    console.log('passed')
    return true
}

const list = [204, 478, 454, 648, 723, 255, 408, 375, 963, 904, 37, 905, 916, 578, 724, 359, 233, 537, 275, 998, 973, 51, 418, 322, 904, 397, 41, 259, 536, 892, 188, 351, 675, 277, 527, 539, 236, 757, 752, 836, 921, 891, 741, 791, 876, 961, 831, 811, 799, 460, 46, 391, 814, 297, 27, 301, 304, 348, 464, 186, 677, 247, 226, 44, 982, 304, 735, 256, 498, 268, 42, 298, 548, 672, 789, 192, 356, 65, 306, 70, 862, 383, 408, 403, 508, 693, 965, 466, 608, 486, 64, 218, 400, 418, 84, 253, 940, 939, 284, 455, 133, 746, 390, 815, 149, 916, 718, 549, 74, 860, 276, 748, 58, 896, 55, 610, 98, 854, 425, 391, 647, 794, 36, 827, 475, 289, 558, 618, 321, 592, 512, 101, 283, 778, 530, 115, 273, 768, 859, 536, 507, 70, 316, 367, 822, 696, 389, 871, 292, 732, 342, 385, 777, 453, 928, 685, 291, 700, 539, 433, 761, 165, 143, 325, 348, 119, 709, 200, 781, 925, 272, 389, 420, 753, 31, 781, 674, 651, 179, 13, 731, 665, 260, 697, 107, 848, 937, 696, 101, 621, 928, 200, 438, 440, 713, 252, 594, 752, 738, 718, 829, 7, 855, 450, 122, 737, 556, 454, 671, 886, 346, 207, 612, 506, 777, 988, 262, 455, 803, 505, 716, 685, 476, 940, 846, 367, 883, 737, 586, 657, 336, 490, 381, 292, 496, 679, 478, 404, 340, 356, 73, 938, 23, 424, 160, 944, 190, 915, 899, 337, 8, 206, 233, 362, 350, 732, 172, 486, 9, 405, 191, 730, 536, 687, 966, 823, 383, 945, 687, 827, 15, 455, 536, 684, 49, 969, 749, 261, 570, 406, 659, 964, 511, 954, 216, 836, 826, 99, 867, 176, 748, 225, 404, 552, 841, 710, 418, 750, 946, 677, 599, 486, 787, 988, 98, 676, 337, 561, 315, 406, 813, 997, 174, 49, 474, 52, 401, 176, 338, 414, 963, 1000, 447, 227, 228, 89, 735, 227, 36, 308, 576, 470, 189, 553, 566, 603]
test(list)
